

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Navigator API Playground</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Toastify CSS -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
  <link rel="icon" type="image/png" href="logo.png">
  <!-- <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/nishuR31/js-navigator/main/logo.png"> -->

  <!-- Toastify JS -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen flex flex-col items-center p-6">

  <h1 class="text-4xl font-bold mb-6">Navigator API Playground</h1>

  <div id="cards" class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 w-full max-w-7xl"></div>

  <video id="cameraFeed" autoplay playsinline class="hidden mt-6 rounded shadow-lg border"></video>

  <script>
    function showToast(message, bgColor = "linear-gradient(to right, #333333 , #708090 )") {
      Toastify({
        text: message,
        duration: 4000,
        close: true,
        gravity: "top",
        position: "right",
        style: { background: bgColor }
      }).showToast();
    }

    function showInfo(title, data, bgColor = "linear-gradient(to right, #D3D3D3, #708090)") {
      const formatted = typeof data === "object" ? JSON.stringify(data, null, 2) : data;
      showToast(`${title}: ${formatted}`, bgColor);
    }

    const demos = [
      {
        title: "Online / Offline",
        icon: "wifi",
        run: () => {
          const status = navigator.onLine ? "Online" : "Offline";
          showInfo("Network Status", status);
        }
      },
      {
        title: "Geolocation",
        icon: "map-pin",
        run: () => {
          if ("geolocation" in navigator) {
            navigator.geolocation.getCurrentPosition(
              pos => {
                const coords = pos.coords;
                showInfo("Geolocation Data", coords);
              },
              err => showToast("Geolocation error: " + err.message, "linear-gradient(to right, #ff5f6d, #f90000 )"),
              { enableHighAccuracy: true, timeout: 10000, maximumAge: 5000 }
            );
          } else showToast("Geolocation not supported", "linear-gradient(to right, #f99900, #f55500)");
        }
      },
      {
        title: "Notifications",
        icon: "bell",
        run: async () => {
          if (!("Notification" in window)) return showToast("Notifications not supported", "linear-gradient(to right, #f99900, #f55500)");
          const permission = await Notification.requestPermission();
          if (permission === "granted") {
            new Notification("Navigator API", {
              body: "This is a notification from Navigator API Playground",
              icon: "https://img.icons8.com/color/48/000000/notification.png"
            });
            showToast("Notification sent");
            showInfo("Notification Permission", permission);
          } else showToast("Permission denied", "linear-gradient(to right, #ff5f6d, #f90000 )");
        }
      },
      {
        title: "Clipboard",
        icon: "clipboard",
        run: async () => {
          try {
            const text = "Navigator API Example Text";
            await navigator.clipboard.writeText(text);
            showToast("Text copied to clipboard");
            const clipText = await navigator.clipboard.readText();
            showInfo("Clipboard Content", clipText);
          } catch (err) {
            showToast("Clipboard error: " + err.message, "linear-gradient(to right, #ff5f6d, #f90000 )");
          }
        }
      },
      {
        title: "Share",
        icon: "share",
        run: async () => {
          if (!navigator.share) return showToast("Share API not supported","linear-gradient(to right, #f99900, #f55500)");
          try {
            await navigator.share({
              title: "Navigator API Playground",
              text: "Check this amazing API playground",
              url: window.location.href
            });
            showToast("Shared successfully");
            showInfo("Share API", "Content shared successfully");
          } catch (err) {
            showToast("Share failed: " + err.message, "linear-gradient(to right, #ff5f6d, #f90000 )");
          }
        }
      },
      {
        title: "Device Info",
        icon: "monitor",
        run: () => {
          const info = {
            "User Agent": navigator.userAgent,
            Platform: navigator.platform,
            Language: navigator.language,
            Languages: navigator.languages,
            CookiesEnabled: navigator.cookieEnabled,
            DoNotTrack: navigator.doNotTrack
          };
          showInfo("Device Info", info);
        }
      },
      {
        title: "Battery",
        icon: "battery",
        run: async () => {
          if (!("getBattery" in navigator)) return showToast("Battery API not supported", "linear-gradient(to right, #f99900, #f55500)");
          try {
            const battery = await navigator.getBattery();
            const msg = `Battery: ${(battery.level * 100).toFixed(0)}% | Charging: ${battery.charging}`;
            showToast(msg);
            showInfo("Battery Info", battery);
          } catch (err) {
            showToast("Battery API error: " + err.message, "linear-gradient(to right, #ff5f6d, #f90000 )");
          }
        }
      },
      {
        title: "Camera / Mic",
        icon: "camera",
        run: async () => {
          if (!navigator.mediaDevices?.getUserMedia) return showToast("Media Devices API not supported", "linear-gradient(to right, #f99900, #f55500)");
          try {
            const stream = await navigator.mediaDevices.getUserMedia({
              video: { width: 1280, height: 720 },
              audio: false
            });
            const videoElement = document.getElementById("cameraFeed");
            videoElement.srcObject = stream;
            videoElement.classList.remove("hidden");
            showToast("Camera access granted");
            showInfo("Media Stream", { video: stream.getVideoTracks()[0].label });
          } catch (err) {
            showToast("Camera error: " + err.message, "linear-gradient(to right, #ff5f6d, #f90000 )");
          }
        }
      },
      {
        title: "Vibration",
        icon: "smartphone",
        run: () => {
          if (!navigator.vibrate) return showToast("Vibration API not supported", "linear-gradient(to right, #f99900, #f55500)");
          navigator.vibrate([300, 100, 300]);
          showToast("Vibration triggered");
          showInfo("Vibration Pattern", "[300, 100, 300]");
        }
      },
      {
        title: "Memory / CPU",
        icon: "cpu",
        run: () => {
          const info = {
            Memory: navigator.deviceMemory || "Unknown",
            Cores: navigator.hardwareConcurrency || "Unknown"
          };
          showInfo("System Info", info);
        }
      },
      {
        title: "Orientation",
        icon: "compass",
        run: () => {
          if (!("DeviceOrientationEvent" in window)) return showToast("Device Orientation API not supported", "linear-gradient(to right, #f99900, #f55500)");
          showToast("Listening to device orientation...");
          const handler = e => {
            showInfo("Orientation Data", {
              Alpha: e.alpha?.toFixed(2),
              Beta: e.beta?.toFixed(2),
              Gamma: e.gamma?.toFixed(2)
            });
            window.removeEventListener("deviceorientation", handler);
          };
          window.addEventListener("deviceorientation", handler);
        }
      },
      {
        title: "Service Worker",
        icon: "server",
        run: () => {
          if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("/sw.js")
              .then(reg => showToast(`Service Worker registered: ${reg.scope}`))
              .catch(err => showToast("Service Worker error: " + err.message, "linear-gradient(to right, #ff5f6d, #f90000 )"));
            showInfo("Service Worker", "Attempted registration");
          } else showToast("Service Worker not supported", "linear-gradient(to right, #f99900, #f55500)");
        }
      }
    ];

    const container = document.getElementById("cards");
    demos.forEach(demo => {
      const card = document.createElement("div");
      card.className = "bg-gray-800 p-5 rounded-xl shadow-lg flex flex-col items-center text-center transition hover:scale-105";
      card.innerHTML = `
        <i data-lucide="${demo.icon}" class="w-10 h-10 mb-3"></i>
        <h2 class="font-bold text-lg mb-3">${demo.title}</h2>
        <button class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded font-medium">Try</button>
      `;
      card.querySelector("button").onclick = demo.run;
      container.appendChild(card);
    });

    lucide.createIcons();
  </script>
</body>
</html>

